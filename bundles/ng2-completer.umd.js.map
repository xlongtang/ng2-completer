{"version":3,"file":"ng2-completer.umd.js","sources":["directives/ctr-completer.js","globals.js","services/completer-base-data.js","services/local-data.js","services/remote-data.js","services/completer-service.js","components/completer-cmp.js","components/completer-list-item-cmp.js","services/completer-data-factory.js","directives/ctr-dropdown.js","directives/ctr-input.js","directives/ctr-list.js","directives/ctr-row.js","ng2-completer.module.js"],"sourcesContent":["import { Directive, EventEmitter, Output } from \"@angular/core\";\r\nvar CtrCompleter = /** @class */ (function () {\r\n    function CtrCompleter() {\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this.dataSourceChange = new EventEmitter();\r\n        this._hasHighlighted = false;\r\n        this._hasSelected = false;\r\n        this._cancelBlur = false;\r\n        this._isOpen = false;\r\n    }\r\n    CtrCompleter.prototype.registerList = function (list) {\r\n        this.list = list;\r\n    };\r\n    CtrCompleter.prototype.registerDropdown = function (dropdown) {\r\n        this.dropdown = dropdown;\r\n    };\r\n    CtrCompleter.prototype.onHighlighted = function (item) {\r\n        this.highlighted.emit(item);\r\n        this._hasHighlighted = !!item;\r\n    };\r\n    CtrCompleter.prototype.onSelected = function (item, clearList) {\r\n        if (clearList === void 0) { clearList = true; }\r\n        this.selected.emit(item);\r\n        if (item) {\r\n            this._hasSelected = true;\r\n        }\r\n        if (clearList) {\r\n            this.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.onDataSourceChange = function () {\r\n        if (this.hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        this.dataSourceChange.emit();\r\n    };\r\n    CtrCompleter.prototype.search = function (term) {\r\n        if (this._hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        if (this.list) {\r\n            this.list.search(term);\r\n        }\r\n    };\r\n    CtrCompleter.prototype.clear = function () {\r\n        this._hasHighlighted = false;\r\n        this.isOpen = false;\r\n        if (this.dropdown) {\r\n            this.dropdown.clear();\r\n        }\r\n        if (this.list) {\r\n            this.list.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.selectCurrent = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.selectCurrent();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.nextRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.nextRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.prevRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.prevRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.hasHighlighted = function () {\r\n        return this._hasHighlighted;\r\n    };\r\n    CtrCompleter.prototype.cancelBlur = function (cancel) {\r\n        this._cancelBlur = cancel;\r\n    };\r\n    CtrCompleter.prototype.isCancelBlur = function () {\r\n        return this._cancelBlur;\r\n    };\r\n    CtrCompleter.prototype.open = function () {\r\n        if (!this._isOpen) {\r\n            this.isOpen = true;\r\n            this.list.open();\r\n        }\r\n    };\r\n    Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\r\n        get: function () {\r\n            return this._isOpen;\r\n        },\r\n        set: function (open) {\r\n            this._isOpen = open;\r\n            this.opened.emit(this._isOpen);\r\n            if (this.list) {\r\n                this.list.isOpen(open);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\r\n        get: function () {\r\n            return this._autoHighlightIndex;\r\n        },\r\n        set: function (index) {\r\n            this._autoHighlightIndex = index;\r\n            if (this.dropdown) {\r\n                this.dropdown.highlightRow(this._autoHighlightIndex);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\r\n        get: function () {\r\n            return this._hasSelected;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrCompleter.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrCompleter]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrCompleter.ctorParameters = function () { return []; };\r\n    CtrCompleter.propDecorators = {\r\n        \"selected\": [{ type: Output },],\r\n        \"highlighted\": [{ type: Output },],\r\n        \"opened\": [{ type: Output },],\r\n        \"dataSourceChange\": [{ type: Output },],\r\n    };\r\n    return CtrCompleter;\r\n}());\r\nexport { CtrCompleter };\r\n//# sourceMappingURL=ctr-completer.js.map","export var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\r\nexport var MIN_SEARCH_LENGTH = 3;\r\nexport var PAUSE = 10;\r\nexport var TEXT_SEARCHING = \"Searching...\";\r\nexport var TEXT_NO_RESULTS = \"No results found\";\r\nexport var CLEAR_TIMEOUT = 50;\r\nexport function isNil(value) {\r\n    return typeof value === \"undefined\" || value === null;\r\n}\r\n//# sourceMappingURL=globals.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { isNil } from \"../globals\";\r\nvar CompleterBaseData = /** @class */ (function (_super) {\r\n    __extends(CompleterBaseData, _super);\r\n    function CompleterBaseData() {\r\n        return _super.call(this) || this;\r\n    }\r\n    CompleterBaseData.prototype.cancel = function () { };\r\n    CompleterBaseData.prototype.searchFields = function (searchFields) {\r\n        this._searchFields = searchFields;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.titleField = function (titleField) {\r\n        this._titleField = titleField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\r\n        this._descriptionField = descriptionField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.imageField = function (imageField) {\r\n        this._imageField = imageField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.convertToItem = function (data) {\r\n        var image = null;\r\n        var formattedText;\r\n        var formattedDesc = null;\r\n        if (this._titleField) {\r\n            formattedText = this.extractTitle(data);\r\n        }\r\n        else {\r\n            formattedText = data;\r\n        }\r\n        if (typeof formattedText !== \"string\") {\r\n            formattedText = JSON.stringify(formattedText);\r\n        }\r\n        if (this._descriptionField) {\r\n            formattedDesc = this.extractValue(data, this._descriptionField);\r\n        }\r\n        if (this._imageField) {\r\n            image = this.extractValue(data, this._imageField);\r\n        }\r\n        if (isNil(formattedText)) {\r\n            return null;\r\n        }\r\n        return {\r\n            title: formattedText,\r\n            description: formattedDesc,\r\n            image: image,\r\n            originalObject: data\r\n        };\r\n    };\r\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\r\n        var _this = this;\r\n        var matches = [];\r\n        var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n        if (this._searchFields !== null && this._searchFields !== undefined && term != \"\") {\r\n            matches = data.filter(function (item) {\r\n                var values = searchFields ? searchFields.map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; }) : [item];\r\n                return values.some(function (value) { return value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0; });\r\n            });\r\n        }\r\n        else {\r\n            matches = data;\r\n        }\r\n        return matches;\r\n    };\r\n    CompleterBaseData.prototype.extractTitle = function (item) {\r\n        var _this = this;\r\n        // split title fields and run extractValue for each and join with ' '\r\n        return this._titleField.split(\",\")\r\n            .map(function (field) {\r\n            return _this.extractValue(item, field);\r\n        })\r\n            .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\r\n    };\r\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\r\n        var keys;\r\n        var result;\r\n        if (key) {\r\n            keys = key.split(\".\");\r\n            result = obj;\r\n            for (var i = 0; i < keys.length; i++) {\r\n                if (result) {\r\n                    result = result[keys[i]];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = obj;\r\n        }\r\n        return result;\r\n    };\r\n    CompleterBaseData.prototype.processResults = function (matches) {\r\n        var i;\r\n        var results = [];\r\n        if (matches && matches.length > 0) {\r\n            for (i = 0; i < matches.length; i++) {\r\n                var item = this.convertToItem(matches[i]);\r\n                if (item) {\r\n                    results.push(item);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    return CompleterBaseData;\r\n}(Subject));\r\nexport { CompleterBaseData };\r\n//# sourceMappingURL=completer-base-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable, EventEmitter } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar LocalData = /** @class */ (function (_super) {\r\n    __extends(LocalData, _super);\r\n    function LocalData() {\r\n        var _this = _super.call(this) || this;\r\n        _this.dataSourceChange = new EventEmitter();\r\n        return _this;\r\n    }\r\n    LocalData.prototype.data = function (data) {\r\n        var _this = this;\r\n        if (data instanceof Observable) {\r\n            var data$ = data;\r\n            data$\r\n                .catch(function () { return []; })\r\n                .subscribe(function (res) {\r\n                _this._data = res;\r\n                if (_this.savedTerm) {\r\n                    _this.search(_this.savedTerm);\r\n                }\r\n                _this.dataSourceChange.emit();\r\n            });\r\n        }\r\n        else {\r\n            this._data = data;\r\n        }\r\n        this.dataSourceChange.emit();\r\n        return this;\r\n    };\r\n    LocalData.prototype.search = function (term) {\r\n        if (!this._data) {\r\n            this.savedTerm = term;\r\n        }\r\n        else {\r\n            this.savedTerm = null;\r\n            var matches = this.extractMatches(this._data, term);\r\n            this.next(this.processResults(matches));\r\n        }\r\n    };\r\n    LocalData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    LocalData.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    LocalData.ctorParameters = function () { return []; };\r\n    return LocalData;\r\n}(CompleterBaseData));\r\nexport { LocalData };\r\n//# sourceMappingURL=local-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter } from \"@angular/core\";\r\nimport { Headers, RequestOptions } from \"@angular/http\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar RemoteData = /** @class */ (function (_super) {\r\n    __extends(RemoteData, _super);\r\n    function RemoteData(http) {\r\n        var _this = _super.call(this) || this;\r\n        _this.http = http;\r\n        _this.dataSourceChange = new EventEmitter();\r\n        _this._urlFormater = null;\r\n        _this._dataField = null;\r\n        return _this;\r\n    }\r\n    RemoteData.prototype.remoteUrl = function (remoteUrl) {\r\n        this._remoteUrl = remoteUrl;\r\n        this.dataSourceChange.emit();\r\n        return this;\r\n    };\r\n    RemoteData.prototype.urlFormater = function (urlFormater) {\r\n        this._urlFormater = urlFormater;\r\n    };\r\n    RemoteData.prototype.dataField = function (dataField) {\r\n        this._dataField = dataField;\r\n    };\r\n    /**\r\n     * @deprecated Please use the requestOptions to pass headers with the search request\r\n     */\r\n    /**\r\n         * @deprecated Please use the requestOptions to pass headers with the search request\r\n         */\r\n    RemoteData.prototype.headers = /**\r\n         * @deprecated Please use the requestOptions to pass headers with the search request\r\n         */\r\n    function (headers) {\r\n        this._headers = headers;\r\n    };\r\n    RemoteData.prototype.requestOptions = function (requestOptions) {\r\n        this._requestOptions = requestOptions;\r\n    };\r\n    RemoteData.prototype.search = function (term) {\r\n        var _this = this;\r\n        this.cancel();\r\n        // let params = {};\r\n        var url = \"\";\r\n        if (this._urlFormater) {\r\n            url = this._urlFormater(term);\r\n        }\r\n        else {\r\n            url = this._remoteUrl + encodeURIComponent(term);\r\n        }\r\n        /*\r\n                 * If requestOptions are provided, they will override anything set in headers.\r\n                 *\r\n                 * If no requestOptions are provided, a new RequestOptions object will be instantiated,\r\n                 * and either the provided headers or a new Headers() object will be sent.\r\n                 */\r\n        if (!this._requestOptions) {\r\n            this._requestOptions = new RequestOptions();\r\n            this._requestOptions.headers = this._headers || new Headers();\r\n        }\r\n        this.remoteSearch = this.http.get(url, this._requestOptions.merge())\r\n            .map(function (res) { return res.json(); })\r\n            .map(function (data) {\r\n            var matches = _this.extractValue(data, _this._dataField);\r\n            return _this.extractMatches(matches, term);\r\n        })\r\n            .catch(function () { return []; })\r\n            .subscribe(function (matches) {\r\n            var results = _this.processResults(matches);\r\n            _this.next(results);\r\n        });\r\n    };\r\n    RemoteData.prototype.cancel = function () {\r\n        if (this.remoteSearch) {\r\n            this.remoteSearch.unsubscribe();\r\n        }\r\n    };\r\n    RemoteData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    return RemoteData;\r\n}(CompleterBaseData));\r\nexport { RemoteData };\r\n//# sourceMappingURL=remote-data.js.map","import { Injectable, Inject } from \"@angular/core\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nvar CompleterService = /** @class */ (function () {\r\n    function CompleterService(localDataFactory, \r\n        // Using any instead of () => LocalData because on AoT errors\r\n        remoteDataFactory // Using any instead of () => LocalData because on AoT errors\r\n    ) {\r\n        this.localDataFactory = localDataFactory;\r\n        this.remoteDataFactory = remoteDataFactory;\r\n    }\r\n    CompleterService.prototype.local = function (data, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var localData = this.localDataFactory();\r\n        return localData\r\n            .data(data)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    CompleterService.prototype.remote = function (url, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var remoteData = this.remoteDataFactory();\r\n        return remoteData\r\n            .remoteUrl(url)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    CompleterService.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterService.ctorParameters = function () { return [\r\n        { type: undefined, decorators: [{ type: Inject, args: [LocalData,] },] },\r\n        { type: undefined, decorators: [{ type: Inject, args: [RemoteData,] },] },\r\n    ]; };\r\n    return CompleterService;\r\n}());\r\nexport { CompleterService };\r\n//# sourceMappingURL=completer-service.js.map","\"use strict\";\r\nimport { ChangeDetectorRef, Component, Input, Output, EventEmitter, ViewChild, forwardRef, ElementRef } from \"@angular/core\";\r\nimport { FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { CtrCompleter } from \"../directives/ctr-completer\";\r\nimport { CompleterService } from \"../services/completer-service\";\r\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS, isNil } from \"../globals\";\r\nimport \"rxjs/add/operator/catch\";\r\nvar noop = function () { };\r\nvar ɵ0 = noop;\r\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(function () { return CompleterCmp; }),\r\n    multi: true\r\n};\r\nvar CompleterCmp = /** @class */ (function () {\r\n    function CompleterCmp(completerService, cdr) {\r\n        this.completerService = completerService;\r\n        this.cdr = cdr;\r\n        this.inputName = \"\";\r\n        this.inputId = \"\";\r\n        this.pause = PAUSE;\r\n        this.minSearchLength = MIN_SEARCH_LENGTH;\r\n        this.maxChars = MAX_CHARS;\r\n        this.overrideSuggested = false;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.fillHighlighted = true;\r\n        this.placeholder = \"\";\r\n        this.autoMatch = false;\r\n        this.disableInput = false;\r\n        this.autofocus = false;\r\n        this.openOnFocus = false;\r\n        this.openOnClick = false;\r\n        this.selectOnClick = false;\r\n        this.selectOnFocus = false;\r\n        this.autoHighlight = false;\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.blurEvent = new EventEmitter();\r\n        this.click = new EventEmitter();\r\n        this.focusEvent = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this.keyup = new EventEmitter();\r\n        this.keydown = new EventEmitter();\r\n        this.searchClicked = new EventEmitter();\r\n        this.control = new FormControl(\"\");\r\n        this.displaySearching = true;\r\n        this.displayNoResults = true;\r\n        this._textNoResults = TEXT_NO_RESULTS;\r\n        this._textSearching = TEXT_SEARCHING;\r\n        this._onTouchedCallback = noop;\r\n        this._onChangeCallback = noop;\r\n        this._focus = false;\r\n        this._open = false;\r\n        this._searchStr = \"\";\r\n    }\r\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\r\n        get: function () { return this.searchStr; },\r\n        set: function (v) {\r\n            if (v !== this.searchStr) {\r\n                this.searchStr = v;\r\n            }\r\n            // Propagate the change in any case\r\n            this._onChangeCallback(v);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(CompleterCmp.prototype, \"searchStr\", {\r\n        get: function () {\r\n            return this._searchStr;\r\n        },\r\n        set: function (value) {\r\n            if (typeof value === \"string\" || isNil(value)) {\r\n                this._searchStr = value;\r\n            }\r\n            else {\r\n                this._searchStr = JSON.stringify(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompleterCmp.prototype.ngAfterViewInit = function () {\r\n        if (this.autofocus) {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.ngAfterViewChecked = function () {\r\n        var _this = this;\r\n        if (this._focus) {\r\n            setTimeout(function () {\r\n                _this.ctrInput.nativeElement.focus();\r\n                _this._focus = false;\r\n            }, 0);\r\n        }\r\n    };\r\n    CompleterCmp.prototype.onTouched = function () {\r\n        this._onTouchedCallback();\r\n    };\r\n    CompleterCmp.prototype.writeValue = function (value) {\r\n        this.searchStr = value;\r\n    };\r\n    CompleterCmp.prototype.registerOnChange = function (fn) {\r\n        this._onChangeCallback = fn;\r\n    };\r\n    CompleterCmp.prototype.registerOnTouched = function (fn) {\r\n        this._onTouchedCallback = fn;\r\n    };\r\n    CompleterCmp.prototype.setDisabledState = function (isDisabled) {\r\n        this.disableInput = isDisabled;\r\n    };\r\n    Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\r\n        set: function (source) {\r\n            if (source) {\r\n                if (source instanceof Array) {\r\n                    this.dataService = this.completerService.local(source);\r\n                }\r\n                else if (typeof (source) === \"string\") {\r\n                    this.dataService = this.completerService.remote(source);\r\n                }\r\n                else {\r\n                    this.dataService = source;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\r\n        set: function (text) {\r\n            if (this._textNoResults != text) {\r\n                this._textNoResults = text;\r\n                this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\r\n        set: function (text) {\r\n            if (this._textSearching != text) {\r\n                this._textSearching = text;\r\n                this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompleterCmp.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.completer.selected.subscribe(function (item) {\r\n            _this.selected.emit(item);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            _this.highlighted.emit(item);\r\n        });\r\n        this.completer.opened.subscribe(function (isOpen) {\r\n            _this._open = isOpen;\r\n            _this.opened.emit(isOpen);\r\n        });\r\n    };\r\n    CompleterCmp.prototype.onBlur = function () {\r\n        this.blurEvent.emit();\r\n        this.onTouched();\r\n        this.cdr.detectChanges();\r\n    };\r\n    CompleterCmp.prototype.onFocus = function () {\r\n        this.focusEvent.emit();\r\n        this.onTouched();\r\n    };\r\n    CompleterCmp.prototype.onClick = function (event) {\r\n        this.click.emit(event);\r\n        this.onTouched();\r\n    };\r\n    CompleterCmp.prototype.onKeyup = function (event) {\r\n        this.keyup.emit(event);\r\n        event.stopPropagation();\r\n    };\r\n    CompleterCmp.prototype.onKeydown = function (event) {\r\n        this.keydown.emit(event);\r\n        event.stopPropagation();\r\n    };\r\n    CompleterCmp.prototype.onChange = function (value) {\r\n        this.value = value;\r\n    };\r\n    CompleterCmp.prototype.open = function () {\r\n        this.completer.open();\r\n    };\r\n    CompleterCmp.prototype.close = function () {\r\n        this.completer.clear();\r\n    };\r\n    CompleterCmp.prototype.focus = function () {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.focus();\r\n        }\r\n        else {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.blur = function () {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.blur();\r\n        }\r\n        else {\r\n            this._focus = false;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.isOpen = function () {\r\n        return this._open;\r\n    };\r\n    CompleterCmp.prototype.onSearchClicked = function (event) {\r\n        event.preventDefault();\r\n        this.searchClicked.emit(this.searchStr);\r\n    };\r\n    CompleterCmp.prototype.onClearClicked = function (event) {\r\n        event.preventDefault();\r\n        this.searchStr = \"\";\r\n        this.focus();\r\n    };\r\n    CompleterCmp.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: \"ng2-completer\",\r\n                    template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <div class=\\\"input-group completer-input-group\\\">\\n                <span class=\\\"input-group-prepend search-btn\\\">\\n                   <button class=\\\"btn btn-link\\\" type=\\\"button\\\" (click)=\\\"onSearchClicked($event)\\\">\\n                      <i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n                   </button>\\n                </span>\\n                <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\" class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\"\\n                   [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\" [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                   [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\"\\n                   [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                   [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\" \\n                   [openOnClick]=\\\"openOnClick\\\" [selectOnClick]=\\\"selectOnClick\\\" [selectOnFocus]=\\\"selectOnFocus\\\"\\n                   (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\" (keydown)=\\\"onKeydown($event)\\\" (click)=\\\"onClick($event)\\\"\\n                   autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n                <span class=\\\"input-group-append clear-btn\\\" [hidden]=\\\"!searchStr\\\">\\n                   <button class=\\\"btn btn-link\\\" type=\\\"button\\\" (click)=\\\"onClearClicked($event)\\\">\\n                       <i class=\\\"fa fa-times-circle-o\\\" aria-hidden=\\\"true\\\"></i>\\n                   </button>\\n                </span>\\n            </div>\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown *ngIf=\\\"isInitialized && isOpen && (( items?.length > 0|| (displayNoResults && !searchActive)) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{_textSearching}}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items?.length === 0)\\\" class=\\\"completer-no-results\\\">{{_textNoResults}}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\" [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\" class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\r\n                    styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px;\\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    .completer-input-group .completer-input {\\n        margin-left: -40px;\\n        margin-right: -40px;\\n        padding-left: 40px;\\n        padding-right: 40px;\\n    }\\n    .completer-input-group .search-btn {\\n        z-index: 4;\\n    }\\n    .completer-input-group .clear-btn {\\n        z-index: 3\\n    }\\n    \"],\r\n                    providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterCmp.ctorParameters = function () { return [\r\n        { type: CompleterService, },\r\n        { type: ChangeDetectorRef, },\r\n    ]; };\r\n    CompleterCmp.propDecorators = {\r\n        \"dataService\": [{ type: Input },],\r\n        \"inputName\": [{ type: Input },],\r\n        \"inputId\": [{ type: Input },],\r\n        \"pause\": [{ type: Input },],\r\n        \"minSearchLength\": [{ type: Input },],\r\n        \"maxChars\": [{ type: Input },],\r\n        \"overrideSuggested\": [{ type: Input },],\r\n        \"clearSelected\": [{ type: Input },],\r\n        \"clearUnselected\": [{ type: Input },],\r\n        \"fillHighlighted\": [{ type: Input },],\r\n        \"placeholder\": [{ type: Input },],\r\n        \"matchClass\": [{ type: Input },],\r\n        \"fieldTabindex\": [{ type: Input },],\r\n        \"autoMatch\": [{ type: Input },],\r\n        \"disableInput\": [{ type: Input },],\r\n        \"inputClass\": [{ type: Input },],\r\n        \"autofocus\": [{ type: Input },],\r\n        \"openOnFocus\": [{ type: Input },],\r\n        \"openOnClick\": [{ type: Input },],\r\n        \"selectOnClick\": [{ type: Input },],\r\n        \"selectOnFocus\": [{ type: Input },],\r\n        \"initialValue\": [{ type: Input },],\r\n        \"autoHighlight\": [{ type: Input },],\r\n        \"selected\": [{ type: Output },],\r\n        \"highlighted\": [{ type: Output },],\r\n        \"blurEvent\": [{ type: Output, args: [\"blur\",] },],\r\n        \"click\": [{ type: Output },],\r\n        \"focusEvent\": [{ type: Output, args: [\"focus\",] },],\r\n        \"opened\": [{ type: Output },],\r\n        \"keyup\": [{ type: Output },],\r\n        \"keydown\": [{ type: Output },],\r\n        \"searchClicked\": [{ type: Output },],\r\n        \"completer\": [{ type: ViewChild, args: [CtrCompleter,] },],\r\n        \"ctrInput\": [{ type: ViewChild, args: [\"ctrInput\",] },],\r\n        \"datasource\": [{ type: Input },],\r\n        \"textNoResults\": [{ type: Input },],\r\n        \"textSearching\": [{ type: Input },],\r\n    };\r\n    return CompleterCmp;\r\n}());\r\nexport { CompleterCmp };\r\nexport { ɵ0 };\r\n//# sourceMappingURL=completer-cmp.js.map","\"use strict\";\r\nimport { Component, Input } from \"@angular/core\";\r\nvar CompleterListItemCmp = /** @class */ (function () {\r\n    function CompleterListItemCmp() {\r\n        this.parts = [];\r\n    }\r\n    CompleterListItemCmp.prototype.ngOnInit = function () {\r\n        if (!this.searchStr) {\r\n            this.parts.push({ isMatch: false, text: this.text });\r\n            return;\r\n        }\r\n        var matchStr = this.text.toLowerCase();\r\n        var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\r\n        var startIndex = 0;\r\n        while (matchPos >= 0) {\r\n            var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\r\n            if (matchPos === 0) {\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length;\r\n            }\r\n            else if (matchPos > 0) {\r\n                var matchPart = this.text.slice(startIndex, matchPos);\r\n                this.parts.push({ isMatch: false, text: matchPart });\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length + matchPart.length;\r\n            }\r\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\r\n        }\r\n        if (startIndex < this.text.length) {\r\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\r\n        }\r\n    };\r\n    CompleterListItemCmp.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: \"completer-list-item\",\r\n                    template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]=\\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CompleterListItemCmp.ctorParameters = function () { return []; };\r\n    CompleterListItemCmp.propDecorators = {\r\n        \"text\": [{ type: Input },],\r\n        \"searchStr\": [{ type: Input },],\r\n        \"matchClass\": [{ type: Input },],\r\n        \"type\": [{ type: Input },],\r\n    };\r\n    return CompleterListItemCmp;\r\n}());\r\nexport { CompleterListItemCmp };\r\n//# sourceMappingURL=completer-list-item-cmp.js.map","import { Http } from \"@angular/http\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nexport function localDataFactory() {\r\n    return function () {\r\n        return new LocalData();\r\n    };\r\n}\r\nexport function remoteDataFactory(http) {\r\n    return function () {\r\n        return new RemoteData(http);\r\n    };\r\n}\r\nexport var LocalDataFactoryProvider = { provide: LocalData, useFactory: localDataFactory };\r\nexport var RemoteDataFactoryProvider = { provide: RemoteData, useFactory: remoteDataFactory, deps: [Http] };\r\n//# sourceMappingURL=completer-data-factory.js.map","import { Directive, ElementRef, Host, HostListener } from \"@angular/core\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\nvar CtrRowItem = /** @class */ (function () {\r\n    function CtrRowItem(row, index) {\r\n        this.row = row;\r\n        this.index = index;\r\n    }\r\n    return CtrRowItem;\r\n}());\r\nexport { CtrRowItem };\r\nvar CtrDropdown = /** @class */ (function () {\r\n    function CtrDropdown(completer, el) {\r\n        this.completer = completer;\r\n        this.el = el;\r\n        this.rows = [];\r\n        this._rowMouseDown = false;\r\n        this.completer.registerDropdown(this);\r\n    }\r\n    CtrDropdown.prototype.ngOnDestroy = function () {\r\n        this.completer.registerDropdown(null);\r\n    };\r\n    CtrDropdown.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        var css = getComputedStyle(this.el.nativeElement);\r\n        var autoHighlightIndex = this.completer.autoHighlightIndex;\r\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\r\n        if (autoHighlightIndex) {\r\n            setTimeout(function () {\r\n                _this.highlightRow(autoHighlightIndex);\r\n            }, 0);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.onMouseDown = function (event) {\r\n        var _this = this;\r\n        // Support for canceling blur on IE (issue #158)\r\n        if (!this._rowMouseDown) {\r\n            this.completer.cancelBlur(true);\r\n            setTimeout(function () {\r\n                _this.completer.cancelBlur(false);\r\n            }, 0);\r\n        }\r\n        else {\r\n            this._rowMouseDown = false;\r\n        }\r\n    };\r\n    CtrDropdown.prototype.registerRow = function (row) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\r\n        if (arrIndex >= 0) {\r\n            this.rows[arrIndex] = row;\r\n        }\r\n        else {\r\n            this.rows.push(row);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.unregisterRow = function (rowIndex) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\r\n        this.rows.splice(arrIndex, 1);\r\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\r\n            this.highlightRow(null);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.highlightRow = function (index) {\r\n        var highlighted = this.rows.find(function (row) { return row.index === index; });\r\n        if (isNil(index) || (index) < 0) {\r\n            if (this.currHighlighted) {\r\n                this.currHighlighted.row.setHighlighted(false);\r\n            }\r\n            this.currHighlighted = undefined;\r\n            this.completer.onHighlighted(null);\r\n            return;\r\n        }\r\n        if (!highlighted) {\r\n            return;\r\n        }\r\n        if (this.currHighlighted) {\r\n            this.currHighlighted.row.setHighlighted(false);\r\n        }\r\n        this.currHighlighted = highlighted;\r\n        this.currHighlighted.row.setHighlighted(true);\r\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\r\n        if (this.isScrollOn && this.currHighlighted) {\r\n            var rowTop = this.dropdownRowTop();\r\n            if (!rowTop) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.dropdownScrollTopTo(rowTop - 1);\r\n            }\r\n            else {\r\n                var row = this.currHighlighted.row.getNativeElement();\r\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\r\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\r\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\r\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10)));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CtrDropdown.prototype.clear = function () {\r\n        this.rows = [];\r\n    };\r\n    CtrDropdown.prototype.onSelected = function (item) {\r\n        this.completer.onSelected(item);\r\n    };\r\n    CtrDropdown.prototype.rowMouseDown = function () {\r\n        this._rowMouseDown = true;\r\n    };\r\n    CtrDropdown.prototype.selectCurrent = function () {\r\n        if (this.currHighlighted) {\r\n            this.onSelected(this.currHighlighted.row.getDataItem());\r\n        }\r\n        else if (this.rows.length > 0) {\r\n            this.onSelected(this.rows[0].row.getDataItem());\r\n        }\r\n    };\r\n    CtrDropdown.prototype.nextRow = function () {\r\n        var nextRowIndex = 0;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index + 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.prevRow = function () {\r\n        var nextRowIndex = -1;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index - 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\r\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\r\n    };\r\n    CtrDropdown.prototype.dropdownRowTop = function () {\r\n        if (!this.currHighlighted) {\r\n            return;\r\n        }\r\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\r\n            (this.el.nativeElement.getBoundingClientRect().top +\r\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\r\n    };\r\n    CtrDropdown.prototype.dropdownHeight = function () {\r\n        return this.el.nativeElement.getBoundingClientRect().top +\r\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\r\n    };\r\n    CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\r\n        var css = getComputedStyle(row.parentElement);\r\n        return row.parentElement.offsetHeight +\r\n            parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\r\n    };\r\n    CtrDropdown.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrDropdown]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrDropdown.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: ElementRef, },\r\n    ]; };\r\n    CtrDropdown.propDecorators = {\r\n        \"onMouseDown\": [{ type: HostListener, args: [\"mousedown\", [\"$event\"],] },],\r\n    };\r\n    return CtrDropdown;\r\n}());\r\nexport { CtrDropdown };\r\n//# sourceMappingURL=ctr-dropdown.js.map","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\r\nimport { NgModel } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\n// keyboard events\r\nvar KEY_DW = 40;\r\nvar KEY_RT = 39;\r\nvar KEY_UP = 38;\r\nvar KEY_LF = 37;\r\nvar KEY_ES = 27;\r\nvar KEY_EN = 13;\r\nvar KEY_TAB = 9;\r\nvar KEY_BK = 8;\r\nvar KEY_SH = 16;\r\nvar KEY_CL = 20;\r\nvar KEY_F1 = 112;\r\nvar KEY_F12 = 123;\r\nvar CtrInput = /** @class */ (function () {\r\n    function CtrInput(completer, ngModel, el) {\r\n        var _this = this;\r\n        this.completer = completer;\r\n        this.ngModel = ngModel;\r\n        this.el = el;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.overrideSuggested = false;\r\n        this.fillHighlighted = true;\r\n        this.openOnFocus = false;\r\n        this.openOnClick = false;\r\n        this.selectOnClick = false;\r\n        this.selectOnFocus = false;\r\n        this.ngModelChange = new EventEmitter();\r\n        this._searchStr = \"\";\r\n        this._displayStr = \"\";\r\n        this.blurTimer = null;\r\n        this.completer.selected.subscribe(function (item) {\r\n            if (!item) {\r\n                return;\r\n            }\r\n            if (_this.clearSelected) {\r\n                _this.searchStr = \"\";\r\n            }\r\n            else {\r\n                _this.searchStr = item.title;\r\n            }\r\n            _this.ngModelChange.emit(_this.searchStr);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            if (_this.fillHighlighted) {\r\n                if (item) {\r\n                    _this._displayStr = item.title;\r\n                    _this.ngModelChange.emit(item.title);\r\n                }\r\n                else {\r\n                    _this._displayStr = _this.searchStr;\r\n                    _this.ngModelChange.emit(_this.searchStr);\r\n                }\r\n            }\r\n        });\r\n        this.completer.dataSourceChange.subscribe(function () {\r\n            _this.searchStr = \"\";\r\n            _this.ngModelChange.emit(_this.searchStr);\r\n        });\r\n        if (this.ngModel.valueChanges) {\r\n            this.ngModel.valueChanges.subscribe(function (value) {\r\n                if (!isNil(value) && _this._displayStr !== value) {\r\n                    if (_this.searchStr !== value) {\r\n                        _this.completer.search(value);\r\n                    }\r\n                    _this.searchStr = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    CtrInput.prototype.keyupHandler = function (event) {\r\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\r\n            // do nothing\r\n            return;\r\n        }\r\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\r\n            event.preventDefault();\r\n        }\r\n        else if (event.keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.search(this.searchStr);\r\n        }\r\n        else if (event.keyCode === KEY_ES) {\r\n            if (this.completer.isOpen) {\r\n                this.restoreSearchValue();\r\n                this.completer.clear();\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.pasteHandler = function (event) {\r\n        this.completer.open();\r\n    };\r\n    CtrInput.prototype.keydownHandler = function (event) {\r\n        var keyCode = event.keyCode || event.which;\r\n        if (keyCode === KEY_EN) {\r\n            if (this.completer.hasHighlighted()) {\r\n                event.preventDefault();\r\n            }\r\n            this.handleSelection();\r\n        }\r\n        else if (keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.open();\r\n            this.completer.nextRow();\r\n        }\r\n        else if (keyCode === KEY_UP) {\r\n            event.preventDefault();\r\n            this.completer.prevRow();\r\n        }\r\n        else if (keyCode === KEY_TAB) {\r\n            this.handleSelection();\r\n        }\r\n        else if (keyCode === KEY_BK) {\r\n            this.completer.open();\r\n        }\r\n        else if (keyCode === KEY_ES) {\r\n            // This is very specific to IE10/11 #272\r\n            // without this, IE clears the input text\r\n            event.preventDefault();\r\n            if (this.completer.isOpen) {\r\n                event.stopPropagation();\r\n            }\r\n        }\r\n        else {\r\n            if (keyCode !== 0 && keyCode !== KEY_SH && keyCode !== KEY_CL &&\r\n                (keyCode <= KEY_F1 || keyCode >= KEY_F12) &&\r\n                !event.ctrlKey && !event.metaKey && !event.altKey) {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.onBlur = function (event) {\r\n        var _this = this;\r\n        // Check if we need to cancel Blur for IE\r\n        if (this.completer.isCancelBlur()) {\r\n            setTimeout(function () {\r\n                // get the focus back\r\n                // get the focus back\r\n                _this.el.nativeElement.focus();\r\n            }, 0);\r\n            return;\r\n        }\r\n        if (this.completer.isOpen) {\r\n            this.blurTimer = Observable.timer(200).subscribe(function () { return _this.doBlur(); });\r\n        }\r\n    };\r\n    CtrInput.prototype.onfocus = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.selectOnFocus) {\r\n            this.el.nativeElement.select();\r\n        }\r\n        if (this.openOnFocus) {\r\n            this.completer.open();\r\n        }\r\n    };\r\n    CtrInput.prototype.onClick = function (event) {\r\n        if (this.selectOnClick) {\r\n            this.el.nativeElement.select();\r\n        }\r\n        if (this.openOnClick) {\r\n            if (this.completer.isOpen) {\r\n                this.completer.clear();\r\n            }\r\n            else {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\r\n        get: function () {\r\n            return this._searchStr;\r\n        },\r\n        set: function (term) {\r\n            this._searchStr = term;\r\n            this._displayStr = term;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrInput.prototype.handleSelection = function () {\r\n        if (this.completer.hasHighlighted()) {\r\n            this._searchStr = \"\";\r\n            this.completer.selectCurrent();\r\n        }\r\n        else if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            if (this.clearUnselected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            this.completer.clear();\r\n        }\r\n    };\r\n    CtrInput.prototype.restoreSearchValue = function () {\r\n        if (this.fillHighlighted) {\r\n            if (this._displayStr != this.searchStr) {\r\n                this._displayStr = this.searchStr;\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.doBlur = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            if (this.clearUnselected && !this.completer.hasSelected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            else {\r\n                this.restoreSearchValue();\r\n            }\r\n        }\r\n        this.completer.clear();\r\n    };\r\n    CtrInput.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrInput]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrInput.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: NgModel, },\r\n        { type: ElementRef, },\r\n    ]; };\r\n    CtrInput.propDecorators = {\r\n        \"clearSelected\": [{ type: Input, args: [\"clearSelected\",] },],\r\n        \"clearUnselected\": [{ type: Input, args: [\"clearUnselected\",] },],\r\n        \"overrideSuggested\": [{ type: Input, args: [\"overrideSuggested\",] },],\r\n        \"fillHighlighted\": [{ type: Input, args: [\"fillHighlighted\",] },],\r\n        \"openOnFocus\": [{ type: Input, args: [\"openOnFocus\",] },],\r\n        \"openOnClick\": [{ type: Input, args: [\"openOnClick\",] },],\r\n        \"selectOnClick\": [{ type: Input, args: [\"selectOnClick\",] },],\r\n        \"selectOnFocus\": [{ type: Input, args: [\"selectOnFocus\",] },],\r\n        \"ngModelChange\": [{ type: Output },],\r\n        \"keyupHandler\": [{ type: HostListener, args: [\"keyup\", [\"$event\"],] },],\r\n        \"pasteHandler\": [{ type: HostListener, args: [\"paste\", [\"$event\"],] },],\r\n        \"keydownHandler\": [{ type: HostListener, args: [\"keydown\", [\"$event\"],] },],\r\n        \"onBlur\": [{ type: HostListener, args: [\"blur\", [\"$event\"],] },],\r\n        \"onfocus\": [{ type: HostListener, args: [\"focus\", [],] },],\r\n        \"onClick\": [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\r\n    };\r\n    return CtrInput;\r\n}());\r\nexport { CtrInput };\r\n//# sourceMappingURL=ctr-input.js.map","import \"rxjs/add/observable/timer\";\r\nimport { ChangeDetectorRef, Directive, Host, Input, TemplateRef, ViewContainerRef } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/retryWhen\";\r\nimport \"rxjs/add/operator/do\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { MIN_SEARCH_LENGTH, PAUSE, CLEAR_TIMEOUT, isNil } from \"../globals\";\r\nvar CtrListContext = /** @class */ (function () {\r\n    function CtrListContext(results, searching, searchInitialized, isOpen) {\r\n        this.results = results;\r\n        this.searching = searching;\r\n        this.searchInitialized = searchInitialized;\r\n        this.isOpen = isOpen;\r\n    }\r\n    return CtrListContext;\r\n}());\r\nexport { CtrListContext };\r\nvar CtrList = /** @class */ (function () {\r\n    function CtrList(completer, templateRef, viewContainer, cd) {\r\n        this.completer = completer;\r\n        this.templateRef = templateRef;\r\n        this.viewContainer = viewContainer;\r\n        this.cd = cd;\r\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\r\n        this.ctrListPause = PAUSE;\r\n        this.ctrListAutoMatch = false;\r\n        this.ctrListAutoHighlight = false;\r\n        this.ctrListDisplaySearching = true;\r\n        // private results: CompleterItem[] = [];\r\n        this.term = null;\r\n        // private searching = false;\r\n        this.searchTimer = null;\r\n        this.clearTimer = null;\r\n        this.ctx = new CtrListContext([], false, false, false);\r\n        this._initialValue = null;\r\n        this.viewRef = null;\r\n    }\r\n    CtrList.prototype.ngOnInit = function () {\r\n        this.completer.registerList(this);\r\n        this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\r\n    };\r\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\r\n        set: function (newService) {\r\n            this._dataService = newService;\r\n            this.dataServiceSubscribe();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrList.prototype, \"initialValue\", {\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\r\n                setTimeout(function () {\r\n                    var initialItem = _this._dataService.convertToItem(value);\r\n                    if (initialItem) {\r\n                        _this.completer.onSelected(initialItem, false);\r\n                    }\r\n                });\r\n            }\r\n            else if (!this._dataService) {\r\n                this._initialValue = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrList.prototype.search = function (term) {\r\n        var _this = this;\r\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n                this.searchTimer = null;\r\n            }\r\n            if (!this.ctx.searching) {\r\n                if (this.ctrListDisplaySearching) {\r\n                    this.ctx.results = [];\r\n                }\r\n                this.ctx.searching = true;\r\n                this.ctx.searchInitialized = true;\r\n                this.refreshTemplate();\r\n            }\r\n            if (this.clearTimer) {\r\n                this.clearTimer.unsubscribe();\r\n            }\r\n            this.searchTimer = Observable.timer(this.ctrListPause).subscribe(function () {\r\n                _this.searchTimerComplete(term);\r\n            });\r\n        }\r\n        else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\r\n            this.clear();\r\n            this.term = \"\";\r\n        }\r\n    };\r\n    CtrList.prototype.clear = function () {\r\n        var _this = this;\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n        }\r\n        this.clearTimer = Observable.timer(CLEAR_TIMEOUT).subscribe(function () {\r\n            _this._clear();\r\n        });\r\n    };\r\n    CtrList.prototype.open = function () {\r\n        if (!this.ctx.searchInitialized) {\r\n            this.search(\"\");\r\n        }\r\n        this.refreshTemplate();\r\n    };\r\n    CtrList.prototype.isOpen = function (open) {\r\n        this.ctx.isOpen = open;\r\n    };\r\n    CtrList.prototype._clear = function () {\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n            this.searchTimer = null;\r\n        }\r\n        if (this.dataService) {\r\n            this.dataService.cancel();\r\n        }\r\n        this.viewContainer.clear();\r\n        this.viewRef = null;\r\n    };\r\n    CtrList.prototype.searchTimerComplete = function (term) {\r\n        // Begin the search\r\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\r\n            this.ctx.searching = false;\r\n            return;\r\n        }\r\n        this.term = term;\r\n        this._dataService.search(term);\r\n    };\r\n    CtrList.prototype.refreshTemplate = function () {\r\n        // create the template if it doesn't exist\r\n        if (!this.viewRef) {\r\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\r\n        }\r\n        else if (!this.viewRef.destroyed) {\r\n            // refresh the template\r\n            // refresh the template\r\n            this.viewRef.context.isOpen = this.ctx.isOpen;\r\n            this.viewRef.context.results = this.ctx.results;\r\n            this.viewRef.context.searching = this.ctx.searching;\r\n            this.viewRef.context.searchInitialized = this.ctx.searchInitialized;\r\n            this.viewRef.detectChanges();\r\n        }\r\n        this.cd.markForCheck();\r\n    };\r\n    CtrList.prototype.getBestMatchIndex = function () {\r\n        var _this = this;\r\n        if (!this.ctx.results || !this.term) {\r\n            return null;\r\n        }\r\n        // First try to find the exact term\r\n        var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === _this.term.toLocaleLowerCase(); });\r\n        // If not try to find the first item that starts with the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        // If not try to find the first item that includes the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        return bestMatch < 0 ? null : bestMatch;\r\n    };\r\n    CtrList.prototype.dataServiceSubscribe = function () {\r\n        var _this = this;\r\n        if (this._dataService) {\r\n            this._dataService\r\n                .catch(function (err) {\r\n                console.error(err);\r\n                console.error(\"Unexpected error in dataService: errors should be handled by the dataService Observable\");\r\n                return [];\r\n            })\r\n                .subscribe(function (results) {\r\n                _this.ctx.searchInitialized = true;\r\n                _this.ctx.searching = false;\r\n                _this.ctx.results = results;\r\n                if (_this.ctrListAutoMatch && results && results.length === 1 && results[0].title && !isNil(_this.term) &&\r\n                    results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\r\n                    // Do automatch\r\n                    // Do automatch\r\n                    _this.completer.onSelected(results[0]);\r\n                    return;\r\n                }\r\n                if (_this._initialValue) {\r\n                    _this.initialValue = _this._initialValue;\r\n                    _this._initialValue = null;\r\n                }\r\n                _this.refreshTemplate();\r\n                if (_this.ctrListAutoHighlight) {\r\n                    _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\r\n                }\r\n            });\r\n            if (this._dataService.dataSourceChange) {\r\n                this._dataService.dataSourceChange.subscribe(function () {\r\n                    _this.term = null;\r\n                    _this.ctx.searchInitialized = false;\r\n                    _this.ctx.searching = false;\r\n                    _this.ctx.results = [];\r\n                    _this.refreshTemplate();\r\n                    _this.completer.onDataSourceChange();\r\n                });\r\n            }\r\n        }\r\n    };\r\n    CtrList.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrList]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrList.ctorParameters = function () { return [\r\n        { type: CtrCompleter, decorators: [{ type: Host },] },\r\n        { type: TemplateRef, },\r\n        { type: ViewContainerRef, },\r\n        { type: ChangeDetectorRef, },\r\n    ]; };\r\n    CtrList.propDecorators = {\r\n        \"ctrListMinSearchLength\": [{ type: Input },],\r\n        \"ctrListPause\": [{ type: Input },],\r\n        \"ctrListAutoMatch\": [{ type: Input },],\r\n        \"ctrListAutoHighlight\": [{ type: Input },],\r\n        \"ctrListDisplaySearching\": [{ type: Input },],\r\n        \"dataService\": [{ type: Input, args: [\"ctrList\",] },],\r\n        \"initialValue\": [{ type: Input, args: [\"ctrListInitialValue\",] },],\r\n    };\r\n    return CtrList;\r\n}());\r\nexport { CtrList };\r\n//# sourceMappingURL=ctr-list.js.map","import { Directive, ElementRef, Host, HostListener, Input, Renderer } from \"@angular/core\";\r\nimport { CtrDropdown, CtrRowItem } from \"./ctr-dropdown\";\r\nvar CtrRow = /** @class */ (function () {\r\n    function CtrRow(el, renderer, dropdown) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.dropdown = dropdown;\r\n        this.selected = false;\r\n    }\r\n    CtrRow.prototype.ngOnDestroy = function () {\r\n        if (this._rowIndex) {\r\n            this.dropdown.unregisterRow(this._rowIndex);\r\n        }\r\n    };\r\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\r\n        set: function (index) {\r\n            this._rowIndex = index;\r\n            this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\r\n        set: function (item) {\r\n            this._item = item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrRow.prototype.onClick = function (event) {\r\n        this.dropdown.onSelected(this._item);\r\n    };\r\n    CtrRow.prototype.onMouseEnter = function (event) {\r\n        this.dropdown.highlightRow(this._rowIndex);\r\n    };\r\n    CtrRow.prototype.onMouseDown = function (event) {\r\n        this.dropdown.rowMouseDown();\r\n    };\r\n    CtrRow.prototype.setHighlighted = function (selected) {\r\n        this.selected = selected;\r\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\r\n    };\r\n    CtrRow.prototype.getNativeElement = function () {\r\n        return this.el.nativeElement;\r\n    };\r\n    CtrRow.prototype.getDataItem = function () {\r\n        return this._item;\r\n    };\r\n    CtrRow.decorators = [\r\n        { type: Directive, args: [{\r\n                    selector: \"[ctrRow]\",\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    CtrRow.ctorParameters = function () { return [\r\n        { type: ElementRef, },\r\n        { type: Renderer, },\r\n        { type: CtrDropdown, decorators: [{ type: Host },] },\r\n    ]; };\r\n    CtrRow.propDecorators = {\r\n        \"ctrRow\": [{ type: Input },],\r\n        \"dataItem\": [{ type: Input },],\r\n        \"onClick\": [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\r\n        \"onMouseEnter\": [{ type: HostListener, args: [\"mouseenter\", [\"$event\"],] },],\r\n        \"onMouseDown\": [{ type: HostListener, args: [\"mousedown\", [\"$event\"],] },],\r\n    };\r\n    return CtrRow;\r\n}());\r\nexport { CtrRow };\r\n//# sourceMappingURL=ctr-row.js.map","import { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { CompleterCmp } from \"./components/completer-cmp\";\r\nimport { CompleterListItemCmp } from \"./components/completer-list-item-cmp\";\r\nimport { CompleterService } from \"./services/completer-service\";\r\nimport { LocalDataFactoryProvider, RemoteDataFactoryProvider } from \"./services/completer-data-factory\";\r\nimport { CtrCompleter } from \"./directives/ctr-completer\";\r\nimport { CtrDropdown } from \"./directives/ctr-dropdown\";\r\nimport { CtrInput } from \"./directives/ctr-input\";\r\nimport { CtrList } from \"./directives/ctr-list\";\r\nimport { CtrRow } from \"./directives/ctr-row\";\r\nimport { CommonModule } from \"@angular/common\";\r\nvar Ng2CompleterModule = /** @class */ (function () {\r\n    function Ng2CompleterModule() {\r\n    }\r\n    Ng2CompleterModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    imports: [\r\n                        CommonModule,\r\n                        FormsModule,\r\n                        HttpModule\r\n                    ],\r\n                    declarations: [\r\n                        CompleterListItemCmp,\r\n                        CtrCompleter,\r\n                        CtrDropdown,\r\n                        CtrInput,\r\n                        CtrList,\r\n                        CtrRow,\r\n                        CompleterCmp\r\n                    ],\r\n                    exports: [\r\n                        CompleterCmp,\r\n                        CompleterListItemCmp,\r\n                        CtrCompleter,\r\n                        CtrDropdown,\r\n                        CtrInput,\r\n                        CtrList,\r\n                        CtrRow\r\n                    ],\r\n                    providers: [\r\n                        CompleterService,\r\n                        LocalDataFactoryProvider,\r\n                        RemoteDataFactoryProvider\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    Ng2CompleterModule.ctorParameters = function () { return []; };\r\n    return Ng2CompleterModule;\r\n}());\r\nexport { Ng2CompleterModule };\r\n//# sourceMappingURL=ng2-completer.module.js.map"],"names":["CtrCompleter","this","selected","EventEmitter","highlighted","opened","dataSourceChange","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","prototype","registerList","list","registerDropdown","dropdown","onHighlighted","item","emit","onSelected","clearList","clear","onDataSourceChange","hasSelected","search","term","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","cancel","isCancelBlur","open","Object","defineProperty","get","set","enumerable","configurable","_autoHighlightIndex","index","highlightRow","decorators","type","Directive","args","selector","ctorParameters","propDecorators","Output","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NO_RESULTS","isNil","value","extendStatics","__extends","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","CompleterBaseData","_super","call","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","JSON","stringify","extractValue","title","description","originalObject","extractMatches","_this","split","undefined","filter","map","searchField","some","toString","toLowerCase","indexOf","field","reduce","acc","titlePart","obj","key","keys","result","i","length","processResults","matches","results","push","Subject","LocalData","Observable","catch","subscribe","res","_data","savedTerm","next","Injectable","RemoteData","http","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","headers","_headers","requestOptions","_requestOptions","url","encodeURIComponent","RequestOptions","Headers","remoteSearch","merge","json","unsubscribe","CompleterService","localDataFactory","remoteDataFactory","local","remote","Inject","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","multi","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","overrideSuggested","clearSelected","clearUnselected","fillHighlighted","placeholder","autoMatch","disableInput","autofocus","openOnFocus","openOnClick","selectOnClick","selectOnFocus","autoHighlight","blurEvent","click","focusEvent","keyup","keydown","searchClicked","control","FormControl","displaySearching","displayNoResults","_textNoResults","_textSearching","_onTouchedCallback","_onChangeCallback","_focus","_open","_searchStr","searchStr","v","ngAfterViewInit","ngAfterViewChecked","setTimeout","ctrInput","nativeElement","focus","onTouched","writeValue","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","source","dataService","text","ngOnInit","completer","onBlur","detectChanges","onFocus","onClick","event","onKeyup","stopPropagation","onKeydown","onChange","close","blur","onSearchClicked","preventDefault","onClearClicked","Component","template","styles","providers","ChangeDetectorRef","Input","matchClass","fieldTabindex","inputClass","initialValue","ViewChild","datasource","textNoResults","textSearching","CompleterListItemCmp","parts","matchStr","matchPos","startIndex","matchText","slice","isMatch","matchPart","LocalDataFactoryProvider","useFactory","RemoteDataFactoryProvider","deps","Http","CtrRowItem","row","CtrDropdown","el","rows","_rowMouseDown","ngOnDestroy","css","getComputedStyle","autoHighlightIndex","isScrollOn","maxHeight","overflowY","onMouseDown","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","splice","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","paddingTop","rowMouseDown","nextRowIndex","offset","scrollTop","parentElement","offsetHeight","marginTop","marginBottom","Host","ElementRef","HostListener","CtrInput","ngModel","ngModelChange","_displayStr","blurTimer","valueChanges","keyupHandler","keyCode","restoreSearchValue","pasteHandler","keydownHandler","which","handleSelection","ctrlKey","metaKey","altKey","timer","doBlur","onfocus","select","NgModel","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","searchTimer","clearTimer","ctx","_initialValue","viewRef","createEmbeddedView","newService","_dataService","dataServiceSubscribe","initialItem","refreshTemplate","searchTimerComplete","_clear","destroyed","context","markForCheck","getBestMatchIndex","bestMatch","toLocaleLowerCase","startsWith","includes","err","console","error","TemplateRef","ViewContainerRef","CtrRow","renderer","_rowIndex","_item","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","Ng2CompleterModule","NgModule","imports","CommonModule","FormsModule","HttpModule","declarations","exports"],"mappings":"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"}